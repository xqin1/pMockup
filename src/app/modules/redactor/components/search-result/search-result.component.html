<div class="search-result-section">
  <div class="result-header" fxLayout="row">
    <mat-toolbar class="result-title">
      <span>Application/Submission</span>
      <span class="line-spacer"></span>
    </mat-toolbar>
  </div>
  <div class="result-table" fxLayout="row">
    <ngx-datatable #searchDataTable
                   class="material striped search-datatable"
                   [rows]="projects"
                   [columnMode]="'flex'"
                   [headerHeight]="50"
                   [rowHeight]="'auto'"
                   [limit]="10"
                   [selected]="selected"
                   [selectionType]="'checkbox'"
                   [selectAllRowsOnPage]="false"
                   [messages]="{emptyMessage: 'No records found'}"
                   (activate)="onActivate($event)"
                   (select)='onSelect($event)'>
      <ngx-datatable-column
        [width]="30"
        [sortable]="false"
        [canAutoResize]="false"
        [draggable]="false"
        [resizeable]="false"
        [headerCheckboxable]="true"
        [checkboxable]="true">
      </ngx-datatable-column>
      <ngx-datatable-column prop="name" [flexGrow]="2">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">Name</span>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column prop='establishedName' [flexGrow]="1">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">Established Name</span>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column prop='dosageForm' [flexGrow]="1">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">Dosage Form</span>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value}}
        </ng-template>
      </ngx-datatable-column>
      <ngx-datatable-column prop='approvedStrength' [flexGrow]="1">
        <ng-template let-column="column" let-sort="sortFn" ngx-datatable-header-template>
          <span (click)="sort()">Approved Strength</span>
        </ng-template>
        <ng-template let-row="row" let-value="value" ngx-datatable-cell-template>
          {{value}}
        </ng-template>
      </ngx-datatable-column>
    </ngx-datatable>
  </div>
  <div fxLayout="row" fxLayoutalign="end center" class="select-row" *ngIf="selected.length>0">
    <span class="line-spacer"></span>
    <button
      class="select-button"
      mat-raised-button
      color="primary"
      matBadge={{selected.length}}
      matBadgePosition="after"
      matBadgeColor="accent"
      (click)="onSelectProject()">
      Add Selected
    </button>
  </div>
</div>

